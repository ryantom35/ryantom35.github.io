<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Project 1 — Outputs</title>
  <style>
  :root{ --bg:#f7fbfc; --card:#ffffff; --muted:#4b5563; --accent:#0b7285; --accent-2:#5b4dff; --muted-bg:#f2f6f8 }
  /* Use Avenir-like stack for Project 1 and center content */
  body{font-family: 'Avenir Next', Avenir, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, system-ui; margin:0;background:var(--bg);color:#0f1724;}
    .container{max-width:980px;margin:36px auto;padding:28px;text-align:center}
    h1{margin:0 0 10px;font-size:1.9rem;letter-spacing:-0.02em}
    p.lead{color:var(--muted);margin:0 auto 20px;max-width:820px;font-size:1.02rem;line-height:1.5}
  /* Force two cards per row on wider screens, collapse to one on small screens */
  .grid{display:grid;grid-template-columns:repeat(2, 1fr);gap:16px}
  @media (max-width:720px){ .grid{grid-template-columns:1fr} }
  .card{background:var(--card);border-radius:12px;padding:14px;border:1px solid rgba(15,98,254,0.06);box-shadow:0 6px 18px rgba(11,114,133,0.04);display:flex;flex-direction:column;align-items:center}
  /* Make thumbnails square and avoid cropping: use aspect-ratio and contain */
  .thumb{width:100%;aspect-ratio:1/1;object-fit:contain;border-radius:6px;background:linear-gradient(180deg,#fafafa,#f2f6f8);padding:6px}
  @media (min-width:980px){ .thumb{height:320px} }
    .caption{margin-top:10px;font-size:0.98rem;color:#0f1724;font-weight:700}
  .meta{margin-top:8px;font-size:0.9rem;color:var(--muted);max-width:260px;text-align:left}
  .meta .shift{margin-top:6px}
  .meta .ptime{margin-top:6px}
  /* make the meta text sit centered beneath the image on small screens */
  @media (max-width:720px){ .meta{max-width:100%;text-align:center} }
  .meta .shift{margin-top:4px}
  .meta .green-shift{color:#047857;font-weight:700}
  .meta .red-shift{color:#b91c1c;font-weight:700}
  .meta .ptime-val{color:var(--accent);font-weight:700}
  .note{margin-top:18px;font-size:0.9rem;color:var(--muted)}
  .divider{grid-column:1/-1;display:flex;align-items:center;gap:12px;margin:18px 0 6px}
  .divider hr{flex:1;border:0;height:1px;background:linear-gradient(90deg, rgba(11,114,133,0.08), rgba(91,77,255,0.08))}
  .divider .label{font-weight:700;color:var(--accent-2);font-size:0.95rem}
    /* Gradient back button styles */
    .back-btn{
      display:inline-block;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      color:white;
      padding:10px 14px;
      border-radius:10px;
      font-weight:700;
      text-decoration:none;
      box-shadow:0 6px 18px rgba(91,77,255,0.14);
      transition:transform .16s ease,box-shadow .16s ease,opacity .16s ease;
    }
    .back-btn:hover{ transform:translateY(-3px); box-shadow:0 18px 40px rgba(91,77,255,0.18); }
    .back-btn:focus{ outline:none; box-shadow:0 18px 40px rgba(91,77,255,0.18); }
    .back-btn:focus-visible{ box-shadow:0 0 0 4px rgba(91,77,255,0.12); }
  </style>
</head>
<body>
  <div class="container">
    <header style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:14px">
      <div>
        <h1 style="margin:0">Project 1 — Images of the Russian Empire: Colorizing the Prokudin-Gorskii photo collection</h1>
        <p class="lead">This page shows the digitized Prokudin-Gorskii glass plate images, with using image processing techniques,
           automatically produced a color image with as few visual artifacts as possible.
            The three color channel images were extracted and placed on top of each other, 
            and then alligned so that they form a single RGB color image</p>
      </div>
      <div style="text-align:right">
  <a class="back-btn" href="../index.html" aria-label="Back to main portfolio">Back to Main Menu</a>
      </div>
    </header>

    <!-- Methodology placeholder: replace the text below with your process description -->
    <section style="margin-top:18px;padding:14px;border-left:6px solid var(--accent);background:linear-gradient(180deg, var(--muted-bg), #ffffff);border-radius:8px">
      <h2 style="margin:0 0 6px">Primary Methodology</h2>
      <p style="margin:0;color:var(--muted)">After separating the grayscale images into their respetive BGR channels via the provided starter code, 
        I first began my implementation naively, using a brute force/exhaustive search approach to calculaute the NCC score across a fixed window (all allignments were done with respect to the blue channel; it served as the "reference"). And while this did work
        for smaller images, it was extremely slow for larger images. To address this, I took the advice of the project description, and implemented
        an image pyramid that downsampled the image by 0.5x at each level. This allowed me to quickly compute approximate shifts at lower resolutions,
         and then refine those estimates at higher resolutions based off the lower resolution estimate. This seemed to work well for the majority of images, and was able to process even the largest images in a reasonable time frame.
         I also spent a large amount of effort making code modular so that it could be reusable for future projets per the advice of the project description.
      </p>
    </section>

    <!-- Problems placeholder -->
    <section style="margin-top:12px;padding:14px;border-left:6px solid var(--accent-2);background:#fff;border-radius:8px">
      <h3 style="margin:0 0 6px">Problems Faced and Solutions</h3>
      <p style="margin:0;color:var(--muted)">I faced several issues with allignment throughout the project that reqired several workarounds. The most beneficial of
        which was the decision to crop the borders of the image before calculating the NCC score for a given window. I also found normalizing the vector before calculating the dot product
      to be useful as this lowered the bias placed on similar intensity/brightness values of the pixels themselves. The one image my algorithm struggled to allign was Emir, which was likely
    due to the different channles having a non-linear mapping to each other, which NCC struggles to allign. More advanced image processing techniques such as feature/edge detection
  could potentially improve the performance.</p>
    </section>

    <!-- Interpretation help -->
    <section style="margin-top:12px;padding:14px;border-left:6px solid #047857;background:linear-gradient(180deg, #f6fffb, #ffffff);border-radius:8px">
      <h3 style="margin:0 0 6px">Interpreting shifts</h3>
      <p style="margin:0;color:var(--muted)">Each image card shows two measured 2D offsets (tuples): <strong>Green shift</strong> and <strong>Red shift</strong>. These are the (x, y) pixel translations applied to the green and red channels so they align with the blue (reference) channel. Positive x shifts move the channel right; positive y shifts move it down. Smaller magnitude shifts indicate the channels were already well-aligned; larger values indicate more correction was required.</p>
      <p style="margin:8px 0 0;color:var(--muted)"><strong>Processing time</strong> reports how long the alignment algorithm took for that image</p>
    </section>

  <section class="grid">
      <!-- Example entries: replace filenames with your actual exported images -->
      <div class="card">
        <img class="thumb" src="images/lugano.png" alt="lugano output">
  <div class="caption">lugano.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>-16</em>, <em>41</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>-29</em>, <em>92</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.1s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/icon.png" alt="icon output">
  <div class="caption">icon.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>17</em>, <em>41</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>23</em>, <em>90</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.2s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/cathedral.png" alt="cathedrals output">
  <div class="caption">cathedral.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>2</em>, <em>5</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>3</em>, <em>12</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">0.7s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/monastery.png" alt="monastery output">
  <div class="caption">monastery.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>2</em>, <em>-3</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>2</em>, <em>3</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">0.8s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/tobolsk.png" alt="tobolsk output">
  <div class="caption">tobolsk.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>3</em>, <em>3</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>3</em>, <em>6</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">0.9s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/harvesters.png" alt="harvesters output">
  <div class="caption">harvesters.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>17</em>, <em>60</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>14</em>, <em>124</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">9.8s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/melons.png" alt="melons output">
  <div class="caption">melons.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>10</em>, <em>82</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>13</em>, <em>178</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.1s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/self_portrait.png" alt="self portrait output">
  <div class="caption">self_portrait.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>29</em>, <em>79</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>37</em>, <em>176</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.3s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/siren.png" alt="siren output">
  <div class="caption">siren.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>-6</em>, <em>50</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>-25</em>, <em>96</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.4s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/three_generations.png" alt="three generations output">
  <div class="caption">three_generations.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>14</em>, <em>53</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>11</em>, <em>112</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.8s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/lastochikino.png" alt="lastochikino output">
  <div class="caption">lastochikino.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>-2</em>, <em>-3</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>-8</em>, <em>75</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.6s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/italil.png" alt="italil output">
  <div class="caption">italil.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>21</em>, <em>38</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>35</em>, <em>76</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.8s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/church.png" alt="church output">
  <div class="caption">church.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>4</em>, <em>25</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>-4</em>, <em>58</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">9.9s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/emir.png" alt="emir output">
  <div class="caption">emir.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>24</em>, <em>49</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>56</em>, <em>104</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">52.3s</span></div>
        </div>
      </div>

      <!-- Custom images from custom_data/ -->
      <div class="divider">
        <hr>
        <div class="label">Selected / Custom Images</div>
        <hr>
      </div>
      <div class="card">
        <img class="thumb" src="images/boy.png" alt="boy output">
        <div class="caption">boy.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>-13</em>, <em>40</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>-10</em>, <em>104</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.6s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/custom1.png" alt="custom1 output">
        <div class="caption">custom1.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>38</em>, <em>48</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>56</em>, <em>107</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">10.1s</span></div>
        </div>
      </div>

      <div class="card">
        <img class="thumb" src="images/na_dunie.png" alt="na_dunie output">
        <div class="caption">na_dunie.png</div>
        <div class="meta">
          <div class="shift"><span class="green-shift">Green shift:</span> (<em>50</em>, <em>32</em>)</div>
          <div class="shift"><span class="red-shift">Red shift:</span> (<em>101</em>, <em>84</em>)</div>
          <div class="ptime">Processing time: <span class="ptime-val">9.7s</span></div>
        </div>
      </div>
    </section>

  </div>
</body>
</html>
